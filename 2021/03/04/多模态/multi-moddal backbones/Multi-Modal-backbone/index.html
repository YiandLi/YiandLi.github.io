<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":20,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="å¤šæ¨¡æ€å¤§æ¨¡å‹è¶…è¯¦ç»†è§£è¯» (ç›®å½•) äº”èŠ±å…«é—¨çš„å¤šæ¨¡æ€æ¨¡å‹å¦‚ä½•é€‰æ‹©ï¼Ÿprofile-avatar [è®ºæ–‡æ¦‚è§ˆ] | å¤šæ¨¡æ€å¤§æ¨¡å‹è¿›å±•æ¦‚è§ˆ ç›®å½•ï¼š - Clip - ICML 2021 - ViLT - ICML 2021 - ALBEF - NeurIPS 2021 - Flamingo - CVPR 2022 - METER - CVPR 2022 - CoCa - 2022 -   Clip å¤šæ¨¡">
<meta property="og:type" content="article">
<meta property="og:title" content="Multi-Modal-backbone">
<meta property="og:url" content="http://example.com/2021/03/04/%E5%A4%9A%E6%A8%A1%E6%80%81/multi-moddal%20backbones/Multi-Modal-backbone/index.html">
<meta property="og:site_name" content="Yili">
<meta property="og:description" content="å¤šæ¨¡æ€å¤§æ¨¡å‹è¶…è¯¦ç»†è§£è¯» (ç›®å½•) äº”èŠ±å…«é—¨çš„å¤šæ¨¡æ€æ¨¡å‹å¦‚ä½•é€‰æ‹©ï¼Ÿprofile-avatar [è®ºæ–‡æ¦‚è§ˆ] | å¤šæ¨¡æ€å¤§æ¨¡å‹è¿›å±•æ¦‚è§ˆ ç›®å½•ï¼š - Clip - ICML 2021 - ViLT - ICML 2021 - ALBEF - NeurIPS 2021 - Flamingo - CVPR 2022 - METER - CVPR 2022 - CoCa - 2022 -   Clip å¤šæ¨¡">
<meta property="og:locale">
<meta property="og:image" content="https://pic1.zhimg.com/80/v2-65e1dbb935aa7804189dc100783a4940_1440w.webp">
<meta property="og:image" content="https://cdn.mathpix.com/snip/images/ewTuOEvhtKYZ2_i5jnV2wRJxnQLX0GIgUtI9XcidxNU.original.fullsize.png">
<meta property="og:image" content="https://pic1.zhimg.com/80/v2-eda11a93af82d3d7a17df87631a77e84_720w.webp">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-c94fc0e580ad16d68bceb535634d93a5_1440w.webp">
<meta property="og:image" content="https://pic3.zhimg.com/v2-796f44eae0f53d548feb46c0787913da_b.jpg">
<meta property="og:image" content="https://pic1.zhimg.com/80/v2-52f2d5cfd5bf5c93bf0fc382daeb12b4_720w.webp">
<meta property="og:image" content="https://cdn.mathpix.com/snip/images/i73ByKIO7wuvrs5pcLaQnxTn1Nv8LNRkOyu_SMhDNhg.original.fullsize.png">
<meta property="og:image" content="https://cdn.mathpix.com/snip/images/gMaO2CfvyMoxtUFG4F3f39Pl3DPkrvpGAxbHAcNUm5M.original.fullsize.png">
<meta property="og:image" content="https://cdn.mathpix.com/snip/images/MHOge480Yy6fpCah4iKv-gL8hf6oF6PhIgokcfW-xbQ.original.fullsize.png">
<meta property="og:image" content="https://pic1.zhimg.com/80/v2-ba7743d56dcfd61c13883602d0423610_720w.webp">
<meta property="og:image" content="https://pic4.zhimg.com/80/v2-01c2da4ea60d7fcd190a0d5a48649dab_720w.webp">
<meta property="article:published_time" content="2021-03-05T06:44:21.000Z">
<meta property="article:modified_time" content="2024-07-30T15:20:19.878Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic1.zhimg.com/80/v2-65e1dbb935aa7804189dc100783a4940_1440w.webp">

<link rel="canonical" href="http://example.com/2021/03/04/%E5%A4%9A%E6%A8%A1%E6%80%81/multi-moddal%20backbones/Multi-Modal-backbone/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>Multi-Modal-backbone | Yili</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Yili</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Suggest Google Chrome for better math Reading.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/03/04/%E5%A4%9A%E6%A8%A1%E6%80%81/multi-moddal%20backbones/Multi-Modal-backbone/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="A slow learner.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yili">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Multi-Modal-backbone
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-04 22:44:21" itemprop="dateCreated datePublished" datetime="2021-03-04T22:44:21-08:00">2021-03-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MultiModal/" itemprop="url" rel="index"><span itemprop="name">MultiModal</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>6.3k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>42 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/625926419">å¤šæ¨¡æ€å¤§æ¨¡å‹è¶…è¯¦ç»†è§£è¯» (ç›®å½•)</a></p>
<p><a target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1728963852075046389&amp;wfr=spider&amp;for=pc">äº”èŠ±å…«é—¨çš„å¤šæ¨¡æ€æ¨¡å‹å¦‚ä½•é€‰æ‹©ï¼Ÿprofile-avatar</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/622220960">[è®ºæ–‡æ¦‚è§ˆ] | å¤šæ¨¡æ€å¤§æ¨¡å‹è¿›å±•æ¦‚è§ˆ</a></p>
<p>ç›®å½•ï¼š<br />
- <a href="#click_me_jump1">Clip - ICML 2021</a><br />
- <a href="#click_me_jump2">ViLT - ICML 2021</a><br />
- <a href="#click_me_jump3">ALBEF - NeurIPS 2021</a><br />
- <a href="#click_me_jump4">Flamingo - CVPR 2022</a><br />
- <a href="#click_me_jump5">METER - CVPR 2022</a><br />
- <a href="#click_me_jump6">CoCa - 2022</a><br />
-</p>
<p><span id="click_me_jump1"></span></p>
<h1 id="clip"><a class="markdownIt-Anchor" href="#clip"></a> Clip</h1>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/625165635">å¤šæ¨¡æ€è¶…è¯¦ç»†è§£è¯» (ä¸€)ï¼šCLIPï¼šå¤§è§„æ¨¡è¯­è¨€-å›¾åƒå¯¹æ¯”é¢„è®­ç»ƒå®ç°ä¸ä¿— Zero-Shot æ€§èƒ½</a></p>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2103.00020.pdf">OpenAI : Learning Transferable Visual Models From Natural Language Supervision (ICML 2021)</a><br />
<a target="_blank" rel="noopener" href="https://github.com/OpenAI/CLIP">https://github.com/OpenAI/CLIP</a></p>
<p>åŠ¨æœºï¼šGPT3 çš„å‡ºç°ï¼Œè®© zero-shot nlp tasks æˆä¸ºå¯èƒ½ï¼Œä½†æ˜¯CV ä¸­å¤§å®¶è¿˜åœ¨ä½¿ç”¨é«˜è´¨é‡ï¼Œå¯†é›†æ ‡æ³¨æ•°æ®é›† (å¦‚ ImageNet-1K) è¿›è¡Œé¢„è®­ç»ƒï¼Œ zero-shot æ•ˆæœå·®ã€‚æ‰€ä»¥è¿™é‡Œæå‡ºä½¿ç”¨è‡ªç„¶è¯­è¨€æ¥ç›‘ç£ï¼Œè¿›è¡Œå›¾åƒè¡¨å¾å­¦ä¹ çš„å·¥ä½œã€‚</p>
<p>äº’è”ç½‘ä¸Šå­˜åœ¨å¤§é‡å…¬å¼€å¯ç”¨çš„æ— æ ‡æ³¨æ–‡æœ¬æ•°æ®é›†ï¼Œä½œè€…åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«4äº¿å¯¹ (å›¾åƒï¼Œæ–‡æœ¬) çš„æ–°å›¾åƒåˆ†ç±»æ•°æ®é›†ï¼Œå¹¶é€šè¿‡å¯¹æ¯”è¯­è¨€-å›¾åƒé¢„è®­ç»ƒçš„æ–¹å¼è®­ç»ƒäº† CLIP æ¨¡å‹ã€‚</p>
<h2 id="webimagetext-wit-æ•°æ®é›†"><a class="markdownIt-Anchor" href="#webimagetext-wit-æ•°æ®é›†"></a> WebImageText (WIT) æ•°æ®é›†</h2>
<p>åŒ…å«4äº¿å¯¹ (å›¾åƒï¼Œæ–‡æœ¬) å¯¹ï¼Œè¿™äº›æ•°æ®æ¥è‡ªäº’è”ç½‘ä¸Šå„ç§å…¬å¼€å¯ç”¨çš„èµ„æºã€‚<br />
è€Œä¸”è¿™ä¸ªæ•°æ®æ¸…ç†å¾—éå¸¸å¥½ï¼Œè´¨é‡æ˜¯éå¸¸é«˜çš„ï¼Œè¿™ä¹Ÿå¯èƒ½æ˜¯ CLIP è¿™ä¹ˆå¼ºå¤§çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚<br />
ç»“æœæ•°æ®é›†çš„æ€»å­—æ•°ä¸ç”¨äºè®­ç»ƒ GPT-2 çš„ WebText æ•°æ®é›†ç›¸ä¼¼ï¼Œå› æ­¤ä½œè€…å°†æ­¤æ•°æ®é›†ç§°ä¸º WebImageText (WIT)ã€‚</p>
<h2 id="é¢„è®­ç»ƒæ–¹æ³•"><a class="markdownIt-Anchor" href="#é¢„è®­ç»ƒæ–¹æ³•"></a> é¢„è®­ç»ƒæ–¹æ³•</h2>
<p><strong>æ¢ç´¢</strong></p>
<p>ä¸€å¼€å§‹çš„æ–¹æ³•æ˜¯è”åˆè®­ç»ƒäº†ä¸€ä¸ªå¤„ç†å›¾åƒçš„ CNN å’Œä¸€ä¸ªå¤„ç†æ–‡æœ¬çš„ Transformer æ¨¡å‹ï¼Œæ¥é¢„æµ‹å›¾åƒçš„ caption  ï¼Œä½†æ˜¯æ•ˆæœä¸å¥½ï¼Œè¡¨ç°ä¸º Scalability å¾ˆå·®ï¼Œå³æ•ˆç‡ï¼ˆæ¶¨ç‚¹é€Ÿåº¦ï¼‰ä½ã€‚</p>
<p>åŸå› ï¼šè¯•å›¾å»é¢„æµ‹æ¯å¹…å›¾ç‰‡å¯¹åº”çš„æ–‡å­—çš„ç¡®åˆ‡å•è¯æ˜¯ä»€ä¹ˆï¼Œè¿™ä¸ªä»»åŠ¡æ¯”è¾ƒéš¾ã€‚</p>
<p>å¯ä»¥ä»…é¢„æµ‹æ•´ä¸ªæ–‡æœ¬ä¸å“ªä¸ªå›¾åƒé…å¯¹ï¼Œè€Œä¸æ˜¯è¯¥æ–‡æœ¬çš„ç¡®åˆ‡å•è¯ï¼Œå³å¯¹æ¯”å­¦ä¹ ï¼Œå‘ç°æ•ˆæœå¾ˆå¥½ã€‚</p>
<p><strong>é¢„è®­ç»ƒå¯¹æ¯”å­¦ä¹ </strong></p>
<p>ä¸€ä¸ª size-<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> batch çš„ (å›¾ç‰‡ï¼Œæ–‡æœ¬æè¿°) ï¼Œåˆ†åˆ«ä½¿ç”¨ Image Encoder å’Œ Text Encoder å¾—åˆ°è¡¨å¾ï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>I</mi><mn>1</mn></msub><mo separator="true">,</mo><mtext>Â </mtext><msub><mi>I</mi><mn>2</mn></msub><mo separator="true">,</mo><mtext>Â </mtext><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mtext>Â </mtext><msub><mi>I</mi><mi>N</mi></msub><mspace linebreak="newline"></mspace><msub><mi>T</mi><mn>1</mn></msub><mo separator="true">,</mo><mtext>Â </mtext><msub><mi>T</mi><mn>2</mn></msub><mo separator="true">,</mo><mtext>Â </mtext><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mtext>Â </mtext><msub><mi>T</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">I_1,\ I_2,\ ...\ I_N \\
T_1,\ T_2,\ ...\ T_N
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>ç„¶åå¯¹è§’çº¿ä¸ºæ­£æ ·æœ¬å¯¹ï¼Œå…¶ä½™ä¸ºè´Ÿæ ·æœ¬å¯¹ï¼Œè¿›è¡Œ in-batch contrastive learning ï¼š<br />
<img src="https://pic1.zhimg.com/80/v2-65e1dbb935aa7804189dc100783a4940_1440w.webp" alt="" /></p>
<p><img src="https://cdn.mathpix.com/snip/images/ewTuOEvhtKYZ2_i5jnV2wRJxnQLX0GIgUtI9XcidxNU.original.fullsize.png" alt="" /></p>
<p><strong>æ¨¡å‹</strong><br />
Image Encoder: ResNet &gt; ViT<br />
Text Encoder: Transformer , æ–‡æœ¬åºåˆ—ç”¨ [SOS] å’Œ [EOS] ä»¤ç‰Œæ‹¬èµ·æ¥ï¼Œ[EOS] å¤„ Transformer æœ«å±‚çš„è¾“å‡ºè¢«è§†ä¸ºæ–‡æœ¬çš„ç‰¹å¾ ã€‚</p>
<p>ä½œè€…å‘ç° CLIP çš„æ€§èƒ½</p>
<ul>
<li>å¯¹äºæ–‡æœ¬ç¼–ç å™¨çš„å®¹é‡ä¸å¤ªæ•æ„Ÿã€‚</li>
<li>å¯¹äºå›¾åƒç¼–ç å™¨ ResNetï¼ŒåŒæ—¶ç¼©æ”¾å…¶æ·±åº¦ï¼Œå®½åº¦ï¼Œå’Œè¾“å…¥åˆ†è¾¨ç‡çš„æ•ˆæœæ˜¯æœ€ä¼˜çš„ã€‚</li>
</ul>
<p><strong>è®­ç»ƒæ–¹å¼</strong><br />
ä»å¤´è®­ç»ƒ: ä¸é¢„å…ˆåŠ è½½  Image Encoder &amp; Text Encoder ã€‚<br />
ä½¿ç”¨çº¿æ€§æŠ•å½±: æƒé‡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>Â </mtext><msub><mi>W</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">W_i,\ W_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ï¼Œ å°†æ¯ä¸ªç¼–ç å™¨çš„è¡¨å¾æ˜ å°„åˆ°å¤šæ¨¡æ€çš„åµŒå…¥ç©ºé—´ã€‚<br />
<strong>æ•°æ®å¢å¼º: åªä½¿ç”¨éšæœºè£å‰ªï¼Œæ¸©åº¦ç³»æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ï„</mi></mrow><annotation encoding="application/x-tex">Ï„</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.1132em;">Ï„</span></span></span></span> çš„å¯¹æ•°å½¢å¼éšæ•´ä¸ªæ¨¡å‹ä¸€èµ·è®­ç»ƒã€‚</strong></p>
<p><strong>Zero-Shot Transfer</strong><br />
ä½¿ç”¨ CLIP çš„é¢„è®­ç»ƒå¥½çš„ Image Encoder å’Œ Text Encoder æ¥åš Zero-Shot Transferã€‚</p>
<p>Image Encoder æ˜¯æ²¡æœ‰åˆ†ç±»å¤´ (æœ€åçš„ Classifier) çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æ³•ç›´æ¥å»åšåˆ†ç±»ä»»åŠ¡ï¼Œæ‰€ä»¥è¯´å‘¢ CLIP é‡‡ç”¨äº†ä¸‹é¢çš„ Prompt Template æ¨¡å¼ï¼š</p>
<ul>
<li>å¾…åˆ†ç±»å›¾åƒ ğŸŒ„ï¼šå–‚å…¥ CLIP é¢„è®­ç»ƒå¥½çš„ Image Encoderï¼Œå¾—åˆ°ç‰¹å¾ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></li>
<li>å€™é€‰åˆ†ç±»æ–‡æœ¬æ ‡ç­¾ ğŸ·ï¸ï¼šæŠŠæ‰€æœ‰ç±»åˆ«çš„è¯æ±‡ â€œcatâ€, â€œdogâ€ ç­‰ï¼Œåšæˆä¸€ä¸ª promptï¼š<strong>â€œA photo of a {object}â€</strong> ï¼Œå–‚å…¥ CLIP é¢„è®­ç»ƒå¥½çš„ Text Encoderï¼Œä¾æ¬¡å¾—åˆ°ç‰¹å¾ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>T</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">T_1, T_2, ...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></li>
<li>ç‚¹ä¹˜ç›¸ä¼¼åº¦ ï¼Œå¾—åˆ°åˆ†æ•°æœ€é«˜çš„ä¸€å¯¹ï¼Œå–å…¶æ ‡ç­¾ ã€‚</li>
</ul>
<p>è¿™é‡Œ Prompt æ¨¡ç‰ˆé¿å…äº† OOVï¼Œ åŒæ—¶è®¾è®¡é‡è¦ï¼š</p>
<ul>
<li>å¯¹äºç»†ç²’åº¦å›¾åƒåˆ†ç±»ä»»åŠ¡ï¼Œæ¯”å¦‚ Oxford-IIIT Pets æ•°æ®é›†ï¼Œprompt å°±å¯ä»¥è®¾ç½®ä¸ºï¼š<strong>â€œA photo of a {label}, a type of pet.â€</strong> ã€‚æ¯”å¦‚ Food101 æ•°æ®é›†ï¼Œprompt å°±å¯ä»¥è®¾ç½®ä¸ºï¼š<strong>â€œA photo of a {label}, a type of food.â€</strong> ã€‚<br />
æ¯”å¦‚ FGVC Aircraft æ•°æ®é›†ï¼Œprompt å°±å¯ä»¥è®¾ç½®ä¸ºï¼š&quot;<strong>A photo of a {label}, a type of aircraft.&quot;</strong> ã€‚</li>
<li>å¯¹äº OCR ä»»åŠ¡ï¼ŒåŠ ä¸Šä¸€äº›æ–‡æœ¬æˆ–è€…æ•°å­—çš„å¼•å·å¯ä»¥æå‡æ€§èƒ½ã€‚</li>
<li>å¯¹äºå«æ˜Ÿå›¾åƒåˆ†ç±»æ•°æ®é›†ï¼Œprompt å°±å¯ä»¥è®¾ç½®ä¸ºï¼š<strong>â€œa satellite photo of a {label}.â€</strong> ã€‚</li>
</ul>
<p>ä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒ prompt æ¨¡ç‰ˆå°†ç»“æœè¿›è¡Œ resemble ã€‚</p>
<p><strong>Zero-Shot CLIP ä¸å®Œå…¨ç›‘ç£çš„åŸºçº¿ ResNet-50 ç›¸æ¯”</strong></p>
<ul>
<li>é€šç”¨æ•°æ®é›†æ•ˆæœå¾ˆå¥½</li>
<li>ä¸€äº›ä¸“ä¸šã€å¤æ‚æˆ–æŠ½è±¡çš„ä»»åŠ¡ä¸Šç›¸å½“å¼±</li>
</ul>
<p><span id="click_me_jump2"></span></p>
<h1 id="vilt"><a class="markdownIt-Anchor" href="#vilt"></a> ViLT</h1>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/626163710">å¤šæ¨¡æ€è¶…è¯¦ç»†è§£è¯» (äºŒ)ï¼šViLTï¼šä¸€ç§æç®€å¤šæ¨¡æ€å­¦ä¹ æ¡†æ¶ Baseline</a><br />
<a target="_blank" rel="noopener" href="https://github.com/NielsRogge/Transformers-Tutorials/blob/master/ViLT/Fine_tuning_ViLT_for_VQA.ipynb">Fine-tuning ViLT For visual question answering (VQA)</a></p>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2102.03334.pdf">ViLT: Vision-and-Language Transformer Without Convolution or Region Supervision (ICML 2021)</a><br />
<a target="_blank" rel="noopener" href="https://github.com/dandelin/vilt">https://github.com/dandelin/vilt</a></p>
<p>å¤šæ¨¡æ€èåˆç»å†ä¸¤ä¸ªéƒ¨åˆ† ï¼š</p>
<ol>
<li>ç‰¹å¾æŠ½å–ï¼šåˆ†åˆ«å¾—åˆ° image feature å’Œ text feature</li>
<li>ç‰¹å¾èåˆï¼šå°†  image feature å’Œ text feature è¿›è¡Œèåˆï¼Œå¾—åˆ°èåˆç‰¹å¾ã€‚</li>
</ol>
<p><strong>å¤šæ¨¡æ€æ¨¡å‹åˆ†ç±»ï¼š</strong></p>
<p><img src="https://pic1.zhimg.com/80/v2-eda11a93af82d3d7a17df87631a77e84_720w.webp" alt="" /></p>
<p>VE: Visual Encoder<br />
TE: Text Encoder<br />
MI: Modality Interaction</p>
<p>(a) : VE å å¤§éƒ¨åˆ†ç®—åŠ›ï¼ŒMI ç”¨ç®€å•çš„ç‚¹ç§¯æˆ–æµ…æ³¨æ„å±‚æ¥è¡¨å¾ä¸¤ç§æ¨¡æ€ä¸­ç‰¹å¾çš„ç›¸ä¼¼æ€§ï¼Œi.e. VSE++ , SCAN</p>
<p>(b) : è§†è§‰æ¨¡å‹å’Œæ–‡æœ¬æ¨¡å‹éƒ½ä½¿ç”¨è¾ƒå¤§ç®—åŠ›ï¼Œç”¨ç®€å•çš„ç‚¹ç§¯æˆ–æµ…æ³¨æ„å±‚æ¥è¡¨å¾ä¸¤ç§æ¨¡æ€ä¸­ç‰¹å¾çš„ç›¸ä¼¼æ€§ï¼Œä»£è¡¨æ¨¡å‹æ˜¯ CLIP ã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ³•å¯¹äºè§†è§‰-è¯­è¨€ä¸‹æ¸¸ä»»åŠ¡æ€§èƒ½å¾ˆå·®ï¼Œæ¯”å¦‚ CLIP åœ¨ NLVR2 æ•°æ®é›†ä¸Šé¢æ€§èƒ½è¾ƒå·®ï¼Œè¯´æ˜çºµä½¿å•ä¸€æ¨¡æ€çš„ç¼–ç å™¨å¾ˆå¥½ï¼Œä½†æ˜¯å¯¹å…¶è¾“å‡ºçš„ç®€å•èåˆå¯èƒ½ä¹Ÿä¸è¶³ä»¥å­¦ä¹ å¤æ‚çš„è§†è§‰å’Œè¯­è¨€ä»»åŠ¡ï¼Œè¿™å¯èƒ½å°±éœ€è¦æˆ‘ä»¬å»ç ”ç©¶æ›´ä¸¥æ ¼çš„è·¨æ¨¡æ€äº¤äº’æ–¹æ¡ˆäº†ã€‚</p>
<p>Â© : è§†è§‰æ¨¡å‹å å¤§éƒ¨åˆ†ç®—åŠ›ï¼Œä½¿ç”¨ Transformer å¯¹å›¾åƒå’Œæ–‡æœ¬ç‰¹å¾çš„äº¤äº’è¿›è¡Œå»ºæ¨¡ï¼Œä»£è¡¨æ¨¡å‹æ˜¯ FiLM å’Œ MoVie</p>
<p>(d) : æœ¬æ–‡çš„ ViLT ï¼Œè§†è§‰æ¨¡å‹å’Œæ–‡æœ¬æ¨¡å‹éƒ½æå…¶ç®€å•ï¼ˆé¦–ä¸ªå°†VEè®¾è®¡çš„å¦‚TEä¸€æ ·è½»é‡çš„æ–¹æ³•ï¼‰ï¼Œå¤§éƒ¨åˆ†è®¡ç®—åŠ›é›†ä¸­åœ¨æ¨¡æ€çš„äº¤äº’ä¸Šé¢ï¼Œä½¿ç”¨ Transformer å¯¹å›¾åƒå’Œæ–‡æœ¬ç‰¹å¾çš„äº¤äº’è¿›è¡Œå»ºæ¨¡ ã€‚</p>
<p><strong>æ¨¡æ€äº¤äº’æ–¹å¼åˆ†ç±»ï¼š</strong></p>
<ol>
<li>å•å¡”äº¤æ¢ï¼šæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç»™åˆ° transformerï¼Œe.g. ViLT &amp; VisualBERT &amp; UNITER</li>
<li>åŒå¡”äº¤äº’ï¼še.g. CLIP &amp; ViLBERT &amp; LXMERT</li>
</ol>
<br>
<p><strong>åŠ¨æœºï¼š</strong><br />
å½“å‰å¸¸ç”¨çš„å¤šæ¨¡æ€èåˆæ¨¡å‹ä¸€èˆ¬éœ€è¦ä½¿ç”¨ä¸€ä¸ª big image encoder æ¥å¤„ç†å›¾ç‰‡ï¼Œæ¯”å¦‚é¢„å…ˆè¿›è¡Œç›®æ ‡æ£€æµ‹ä»»åŠ¡æå– image region feature ï¼Œç›¸æ¯”ä¹‹ä¸‹  text encoder çš„è®¡ç®—é‡å°±æ¯”è¾ƒå°äº†ã€‚</p>
<p>å¹³å¸¸åšå®éªŒçš„æ—¶å€™ï¼Œè§†è§‰ Encoder æå–åˆ°çš„ region feature å¯ä»¥æå‰ç¼“å­˜ï¼Œä»¥å‡å°è®­ç»ƒæ—¶çš„è´Ÿæ‹…ã€‚ä½†æ˜¯åœ¨å®é™…åº”ç”¨çš„æ—¶å€™ï¼Œåœ¨é¢å¯¹æ–°æ•°æ®é›†çš„æ—¶å€™ï¼Œè¿˜æ˜¯å¿…é¡» <strong>ç»å†ä¸€ä¸ªç¼“æ…¢çš„æå– region feature çš„è¿‡ç¨‹</strong> ã€‚</p>
<p>visual embeddingçš„æ–¹æ³•æ€»å…±æœ‰ä¸‰å¤§ç±»ï¼š</p>
<ul>
<li>region featureæ–¹æ³•é€šå¸¸é‡‡ç”¨Faster R-CNNäºŒé˜¶æ®µæ£€æµ‹å™¨æå–regionçš„ç‰¹å¾</li>
<li>grid featureæ–¹æ³•ç›´æ¥ä½¿ç”¨CNNæå–gridçš„ç‰¹å¾</li>
<li>patch projectionæ–¹æ³•å°†è¾“å…¥å›¾ç‰‡åˆ‡ç‰‡æŠ•å½±æå–ç‰¹å¾ã€‚ViLTæ˜¯é¦–ä¸ªä½¿ç”¨patch projectionæ¥åšvisual embeddingçš„æ–¹æ³•ã€‚</li>
</ul>
<p><img src="https://pic2.zhimg.com/80/v2-c94fc0e580ad16d68bceb535634d93a5_1440w.webp" alt="" /></p>
<ol>
<li>Convolution-Free Feature Extraction: ç›´æ¥ä½¿ç”¨ Patch Embedding ç¼–ç å›¾åƒï¼Œæ— éœ€ç›®æ ‡æ£€æµ‹ï¼›åŒæ—¶ç›´æ¥ Token Embedding ç¼–ç æ–‡æœ¬ï¼Œå°†æ¯ä¸ªæ¨¡æ€çš„ç‰¹å¾æŠ½å–éƒ¨åˆ†æœ€å°åŒ– ï¼›</li>
<li>ViT based Feature Interaction ï¼šæŠŠä¸»è¦çš„è®¡ç®—é‡éƒ½æ”¾åœ¨äº†ç‰¹å¾èåˆéƒ¨åˆ† ã€‚</li>
</ol>
<h2 id="æ¨¡å‹"><a class="markdownIt-Anchor" href="#æ¨¡å‹"></a> æ¨¡å‹</h2>
<p>å¯¹äºæƒé‡ä»¥ ViT-B/32 çš„é¢„è®­ç»ƒæƒé‡åšåˆå§‹åŒ–æ¨¡å‹ ViLT-B/32, éšç»´åº¦å¤§å° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span> ä¸º 768 , æ·±åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span> ä¸º 12, Patch å¤§å° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> ä¸º 32 , MLP ä¸­é—´å°ºå¯¸å¤§å°ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>Ã—</mo><mn>768</mn><mo>=</mo><mn>3072</mn></mrow><annotation encoding="application/x-tex">4 \times 768=3072</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mord">6</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">7</span><span class="mord">2</span></span></span></span>, æ³¨æ„åŠ› head æ•°ä¸º 12 ã€‚</p>
<p><img src="https://pic3.zhimg.com/v2-796f44eae0f53d548feb46c0787913da_b.jpg" alt="" /></p>
<p>å…¬å¼ï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>t</mi><mo>Ë‰</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><msub><mi>t</mi><mtext>classÂ </mtext></msub><mo separator="true">;</mo><msub><mi>t</mi><mn>1</mn></msub><mi>T</mi><mo separator="true">;</mo><mo>â‹¯</mo><mtext>â€‰</mtext><mo separator="true">;</mo><msub><mi>t</mi><mi>L</mi></msub><mi>T</mi><mo fence="true">]</mo></mrow><mo>+</mo><msup><mi>T</mi><mtext>posÂ </mtext></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mover accent="true"><mi>v</mi><mo>Ë‰</mo></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><msub><mi>v</mi><mtext>classÂ </mtext></msub><mo separator="true">;</mo><msub><mi>v</mi><mn>1</mn></msub><mi>V</mi><mo separator="true">;</mo><mo>â‹¯</mo><mtext>â€‰</mtext><mo separator="true">;</mo><msub><mi>v</mi><mi>N</mi></msub><mi>V</mi><mo fence="true">]</mo></mrow><mo>+</mo><msup><mi>V</mi><mtext>posÂ </mtext></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msup><mi>z</mi><mn>0</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mover accent="true"><mi>t</mi><mo>Ë‰</mo></mover><mo>+</mo><msup><mi>t</mi><mtext>typeÂ </mtext></msup><mo separator="true">;</mo><mover accent="true"><mi>v</mi><mo>Ë‰</mo></mover><mo>+</mo><msup><mi>v</mi><mtext>typeÂ </mtext></msup><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msup><mover accent="true"><mi>z</mi><mo>^</mo></mover><mi>d</mi></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="normal">MSA</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><mi mathvariant="normal">LN</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><msup><mi>z</mi><mrow><mi>d</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mo>+</mo><msup><mi>z</mi><mrow><mi>d</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mtext>Â </mtext><mi>d</mi><mo>=</mo><mn>1...</mn><mi>D</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msup><mi>z</mi><mi>d</mi></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="normal">MLP</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><mi mathvariant="normal">LN</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><msup><mover accent="true"><mi>z</mi><mo>^</mo></mover><mi>d</mi></msup><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mo>+</mo><msup><mover accent="true"><mi>z</mi><mo>^</mo></mover><mi>d</mi></msup><mo separator="true">,</mo><mtext>Â </mtext><mi>d</mi><mo>=</mo><mn>1...</mn><mi>D</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>p</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>tanh</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><msubsup><mi>z</mi><mn>0</mn><mi>D</mi></msubsup><msub><mi>W</mi><mtext>poolÂ </mtext></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
\bar{t} &amp; =\left[t_{\text {class }} ; t_1 T ; \cdots ; t_L T\right]+T^{\text {pos }} \\
\bar{v} &amp; =\left[v_{\text {class }} ; v_1 V ; \cdots ; v_N V\right]+V^{\text {pos }} \\
z^0 &amp; =\left[\bar{t}+t^{\text {type }} ; \bar{v}+v^{\text {type }}\right] \\
\hat{z}^d &amp; =\operatorname{MSA}\left(\operatorname{LN}\left(z^{d-1}\right)\right)+z^{d-1},\ d=1...D \\
z^d &amp; =\operatorname{MLP}\left(\operatorname{LN}\left(\hat{z}^d\right)\right)+\hat{z}^d,\ d=1...D  \\
p &amp; =\tanh \left(z_0^D W_{\text {pool }}\right)
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:9.193655em;vertical-align:-4.3468275em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.8468275em;"><span style="top:-7.0068275em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.75186em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">t</span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span></span></span><span style="top:-5.506827499999999em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">Ë‰</span></span></span></span></span></span></span></span></span><span style="top:-3.982719499999999em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span><span style="top:-2.4236114999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span><span style="top:-0.8645034999999992em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span></span></span><span style="top:0.6868274999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:4.3468275em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.8468275em;"><span style="top:-7.0068275em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">classÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">posÂ </span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.506827499999999em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">classÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">posÂ </span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.982719499999999em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.75186em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">t</span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.843556em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">typeÂ </span></span></span></span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.843556em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">typeÂ </span></span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span></span><span style="top:-2.4236114999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mord mathrm">M</span><span class="mord mathrm">S</span><span class="mord mathrm">A</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mop"><span class="mord mathrm">L</span><span class="mord mathrm">N</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span><span style="top:-0.8645034999999992em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mord mathrm">M</span><span class="mord mathrm">L</span><span class="mord mathrm">P</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mop"><span class="mord mathrm">L</span><span class="mord mathrm">N</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span><span style="top:0.6868274999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop">tanh</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">poolÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:4.3468275em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>
<p>Text Encoder :  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>t</mi><mo>Ë‰</mo></mover><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mo stretchy="false">(</mo><mi>L</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>Ã—</mo><mi>H</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\bar{t} \in \mathbb R ^ {(L+1) \times H}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79096em;vertical-align:-0.0391em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.75186em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">t</span></span></span><span style="top:-3.18408em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">L</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>bert-base-uncased tokenizer</li>
<li>Word Embedding</li>
<li>add Text cls token :  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{class}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ï¼Œæ–¹ä¾¿å’Œä¸‹æ¸¸ä»»åŠ¡å¯¹æ¥ã€‚</li>
<li>add Text Positional Embedding <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>T</mi><mtext>posÂ </mtext></msup></mrow><annotation encoding="application/x-tex">T^{\text {pos }}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">posÂ </span></span></span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
</li>
<li>
<p>Visual Encoder : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>v</mi><mo>Ë‰</mo></mover><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mo stretchy="false">(</mo><mi>N</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>Ã—</mo><mi>H</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\bar{v} \in \mathbb R ^ {(N+1)\times H}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.60688em;vertical-align:-0.0391em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>Linear Projection Patch Embedding : flatten to 1-d patch vector <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>Ã—</mo><mo stretchy="false">(</mo><msup><mi>P</mi><mn>2</mn></msup><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N \times (P^2 C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span></span></span></span> , then linear projection <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>Ã—</mo><mo stretchy="false">(</mo><msup><mi>P</mi><mn>2</mn></msup><mi>C</mi><mo stretchy="false">)</mo><mo>â†’</mo><mi>N</mi><mo>Ã—</mo><mi>H</mi></mrow><annotation encoding="application/x-tex">N \times (P^2 C)\rightarrow N \times H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span> ï¼Œè¿™é‡Œéœ€è¦è®©æœ€ç»ˆçš„ç»´åº¦å’Œ text embedding ç»´åº¦å¯¹é½ã€‚</li>
<li>add Visual cls token :  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">v_{class}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>add Visual Positional Embedding $V^{\text {pos }} $</li>
</ul>
</li>
<li>
<p>Transformer-based Modality Interaction Encoder : ViT-B/32 æƒé‡åˆå§‹åŒ– w/o Patch Projectionåˆå§‹åŒ–ï¼ˆå®éªŒå‘ç° bert åˆå§‹åŒ–æ•ˆæœä¸å¥½ï¼‰</p>
<ul>
<li>add type embedding : åŒºåˆ†ç‰¹å¾ç±»å‹ï¼Œå³è¡¨ç¤ºæ¨¡æ€çš„å˜é‡</li>
<li>concatenate for transformer input  : <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>z</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">z^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></li>
<li>TRM : ä¸€å…± D å±‚ï¼›éµå¾ª bert ç»“æ„ï¼Œæ¯å±‚ MSA + MLP ã€‚</li>
<li>output : è¾“å‡ºçš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>z</mi><mn>0</mn><mi>D</mi></msubsup></mrow><annotation encoding="application/x-tex">z_0^D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0894389999999998em;vertical-align:-0.24810799999999997em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.4518920000000004em;margin-left:-0.04398em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span> é€šè¿‡ä¸€ä¸ªä¸€ä¸ªçº¿æ€§å˜æ¢ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mrow><mi>p</mi><mi>o</mi><mi>o</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">W_{pool}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>tanh</mtext></mrow><annotation encoding="application/x-tex">\text{tanh}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord text"><span class="mord">tanh</span></span></span></span></span> å‡½æ•°å¾—åˆ°è¾“å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> ã€‚</li>
</ul>
</li>
</ul>
<h2 id="é¢„è®­ç»ƒç›®æ ‡"><a class="markdownIt-Anchor" href="#é¢„è®­ç»ƒç›®æ ‡"></a> é¢„è®­ç»ƒç›®æ ‡</h2>
<ol>
<li>
<p>Image Text Matching (ITM)ï¼š<br />
éšæœºä»¥ 0.5 çš„æ¦‚ç‡å°†æ–‡æœ¬å¯¹åº”çš„å›¾ç‰‡ <strong>æ›¿æ¢æˆä¸åŒçš„å›¾ç‰‡</strong> ï¼Œç„¶åå¯¹æ–‡æœ¬æ ‡å¿—ä½å¯¹åº”è¾“å‡ºä½¿ç”¨ä¸€ä¸ªçº¿æ€§çš„ ITM head å°†è¾“å‡º <strong>Text cls token</strong> æ˜ å°„æˆä¸€ä¸ªäºŒå€¼ logitsï¼Œç”¨æ¥åˆ¤æ–­å›¾åƒæ–‡æœ¬æ˜¯å¦åŒ¹é…ã€‚</p>
</li>
<li>
<p>word patch alignment (WPA) ï¼šè®¡ç®— textual subset å’Œ visual subset çš„å¯¹é½åˆ†æ•°<br />
é€šè¿‡ æœ€ä¼˜è¿è¾“ç†è®º optimal transport æ¥è®¡ç®—æ–‡æœ¬ç‰¹å¾å’Œå›¾åƒç‰¹å¾çš„ç›¸ä¼¼åº¦ï¼ŒæŠŠè¿™é‡Œçš„è¿™äº›æ–‡æœ¬è¾“å‡ºï¼Œå’Œå›¾åƒçš„è¾“å‡ºå½“åšä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œç„¶åè®¡ç®—ä¸€ä¸‹ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„è·ç¦»ï¼Œå› ä¸ºè¾“å…¥æ˜¯ä¸€ä¸ªæ–‡æœ¬å›¾åƒå¯¹ï¼Œé‚£ä¹ˆæŒ‰é“ç†æ¥è¯´åº”è¯¥æ˜¯åŒ¹é…çš„ï¼Œæ‰€ä»¥ä½œè€…ä¹Ÿå¸Œæœ› word patch alignmentè¿™é‡Œçš„è·ç¦»ï¼Œè¶Šå°è¶Šå¥½ã€‚</p>
</li>
<li>
<p>Whole Word Masking - Masked Language Modeling (MLM)ï¼šå’Œ BERT ä¸€æ ·ï¼Œéšæœºä»¥ 0.15 çš„æ¦‚ç‡ mask æ‰tokens ã€‚</p>
</li>
</ol>
<p>Trickï¼š</p>
<ul>
<li>Textï¼šwhole word masking<br />
å…¶å®å›¾åƒè¿™é‡Œä½œè€…ä¹Ÿå°è¯•äº†é‡å»º lossï¼Œæ•ˆæœä¸€èˆ¬ã€‚</li>
<li>Imageï¼šæ•°æ®å¢å¼ºï¼Œrand-augment w/o color inversion &amp; cutout ï¼Œä¿è¯äº†å›¾åƒå’Œæ–‡æœ¬è¿˜èƒ½å°½å¯èƒ½çš„åŒ¹é…åœ¨ä¸€èµ·ï¼Œä¸ä¼šæœ‰å¤ªå¤§çš„å‡ºå…¥ã€‚</li>
</ul>
<blockquote>
<p>åœ¨ä¹‹å‰çš„é‚£äº›å¤šæ¨¡æ€çš„æ–¹æ³•é‡Œï¼Œå°¤å…¶æ˜¯å›¾2 cé‡Œç”»çš„é‚£äº›å€Ÿé‰´äºç›®æ ‡æ£€æµ‹çš„å¤šæ¨¡æ€å­¦ä¹ ï¼Œå®ƒäº†æ˜¯æ²¡æ³•ä½¿ç”¨æ•°æ®å¢å¼ºçš„ï¼Œå› ä¸ºä»–ä»¬åœ¨è®­ç»ƒçš„æ—¶å€™äº†ï¼Œéƒ½æ˜¯æå‰æŠŠç‰¹å¾æŠ½å‡ºæ¥ï¼Œå­˜åœ¨æœ¬åœ°ç¡¬ç›˜é‡Œï¼ŒåŸå›¾é•¿ä»€ä¹ˆæ ·ï¼Œç‰¹å¾å°±æ˜¯ä»€ä¹ˆæ ·ï¼Œå¦‚æœä½ éœ€è¦æŠŠåŸå›¾åšæ•°æ®å¢å¼ºï¼Œé‚£ä½ çš„ç‰¹å¾å°±å¾—é‡æ–°æŠ½å–ï¼Œè¿™ä¼šå˜å¾—å¾ˆéº»çƒ¦è€Œä¸”å¾ˆè´µï¼Œæ‰€ä»¥æ²¡äººè¿™ä¹ˆåšè¿‡ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€æ‰€æœ‰ä¹‹å‰çš„å·¥ä½œï¼Œå“ªæ€•åˆ°2021å¹´çš„å·¥ä½œï¼Œéƒ½æ²¡æœ‰ç”¨æ•°æ®å¢å¼ºï¼Œè¿™æ˜¯ä¸æ˜¯å¬èµ·æ¥å°±å¾ˆä¸åˆç†ï¼Œæ˜æ˜ä½ çŸ¥é“æ•°æ®å¢å¼ºå¾ˆæœ‰ç”¨ï¼Œé‚£ä½ ä¸ç”¨ã€‚</p>
</blockquote>
<h2 id="å®éªŒ-å¾®è°ƒ"><a class="markdownIt-Anchor" href="#å®éªŒ-å¾®è°ƒ"></a> å®éªŒ &amp; å¾®è°ƒ</h2>
<p>é¢„è®­ç»ƒæ•°æ®é›†åˆï¼šMicrosoft COCO (MSCOCO), Visual Genome (VG), SBU Captions (SBU) , Google Conceptual Captions (GCC) ã€‚è¿™4ä¸ªæ•°æ®é›†åˆèµ·æ¥ä¸€èˆ¬å«åš 4 Million çš„è®¾ç½®ï¼Œå› ä¸ºå®ƒä»¬çš„å›¾ç‰‡æ•°åŠ èµ·æ¥å·®ä¸å¤šæ˜¯ 4 Millionã€‚</p>
<p>å¾®è°ƒæ•°æ®é›†åˆ</p>
<ul>
<li>åˆ†ç±»ä»»åŠ¡ï¼š
<ul>
<li>
<p>Visual Question Answering (VQA) ä»»åŠ¡å€ŸåŠ© VQAv2 æ•°æ®é›†æ¥è¯„ä¼°ã€‚VQA ä»»åŠ¡è¦æ±‚ç»™å®šå›¾åƒå¯¹å’Œè‡ªç„¶è¯­è¨€é—®é¢˜ï¼Œå¯»æ±‚ç­”æ¡ˆã€‚å¸¦æ³¨é‡Šçš„ç­”æ¡ˆæœ€åˆæ˜¯è‡ªç”±å½¢å¼çš„è‡ªç„¶è¯­è¨€ï¼Œä½†å¸¸è§çš„åšæ³•æ˜¯å°†ä»»åŠ¡è½¬æ¢ä¸ºå…·æœ‰ 3,129 ä¸ªç­”æ¡ˆçš„åˆ†ç±»ä»»åŠ¡ã€‚</p>
</li>
<li>
<p>Natural Language for Visual Reasoning (NLVR) ä»»åŠ¡å€ŸåŠ© NLVR2 æ•°æ®é›†æ¥è¯„ä¼°ã€‚NLVR ä»»åŠ¡æ˜¯ç»™å®šä¸¤ä¸ªå›¾åƒçš„ä¸‰å…ƒç»„å’Œè‡ªç„¶è¯­è¨€çš„é—®é¢˜ï¼ŒåšäºŒå…ƒåˆ†ç±»çš„ä»»åŠ¡ã€‚ç”±äºä¸é¢„è®­ç»ƒè®¾ç½®ä¸åŒæœ‰ä¸¤ä¸ªè¾“å…¥å›¾åƒï¼Œå› æ­¤ä¸‹æ¸¸ä»»åŠ¡å­˜åœ¨å¤šç§ç­–ç•¥ã€‚åœ¨ ViLT ä¸­ï¼Œè¾“å‡ºæ˜¯ä¸¤ä¸ªå›¾ç‰‡ï¼Œä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆåˆ†æˆ (é—®é¢˜ï¼Œå›¾ç‰‡1) å’Œ (é—®é¢˜ï¼Œå›¾ç‰‡2)ï¼Œå¹¶æŠŠå®ƒä»¬åˆ†åˆ«å–‚ç»™ ViLT æ¨¡å‹ï¼Œå¾—åˆ°çš„ä¸¤ä¸ª Pooled Representationï¼Œä¹Ÿå°±æ˜¯ p æ‹¼æ¥èµ·æ¥ï¼Œæœ€åè¾“å‡ºåˆ†ç±»ç»“æœã€‚</p>
</li>
</ul>
</li>
<li>æ£€ç´¢ä»»åŠ¡: MSCOCO å’Œ Flickr30K</li>
</ul>
<p><span id="click_me_jump3"></span></p>
<h1 id="albef"><a class="markdownIt-Anchor" href="#albef"></a> ALBEF</h1>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2107.07651.pdf">Align before Fuse: Vision and Language Representation Learning with Momentum Distillation (NeurIPS 2021)</a><br />
<a target="_blank" rel="noopener" href="https://github.com/salesforce/ALBEF/">https://github.com/salesforce/ALBEF/</a></p>
<p>å¤§éƒ¨åˆ† <strong>è§†è§‰-è¯­è¨€é¢„è®­ç»ƒ (Vision-and-Language Pre-training, VLP)</strong> çš„é—®é¢˜ ï¼š</p>
<ol>
<li>ä½¿ç”¨ä¸€ä¸ªå¤šæ¨¡æ€çš„ Transformer ç¼–ç å™¨èåˆå›¾åƒ token ä¸æ–‡æœ¬ token çš„ä¿¡æ¯èåˆï¼Œä½†æ˜¯å› ä¸º Image Feature å’Œ Text Feature åœ¨è¾“å…¥ç»™ Transformer æ—¶æ˜¯ <strong>æ²¡å¯¹é½çš„</strong> ï¼Œå³åµŒå…¥ç‰¹å¾å„è‡ªåœ¨å„è‡ªçš„ç©ºé—´ä¸­å—ï¼Œå¯¼è‡´è¿™ä¸ªå¤šæ¨¡æ€ Transformer æ— æ³•å‡†ç¡®åœ°å­¦ä¹ åˆ°å›¾æ–‡çš„å…³è”å…³ç³»ã€‚</li>
<li>ç›®æ ‡æ£€æµ‹å™¨è®¡ç®—ä»£ä»·è¾ƒé«˜ä¸”å»¶æ—¶è¾ƒå¤§-&gt; ViLT</li>
<li>é¢„è®­ç»ƒæ‰€ä½¿ç”¨çš„å›¾åƒæ–‡æœ¬æ•°æ®é›†æ˜¯ä»ç½‘ç»œä¸Šæ”¶é›†çš„ï¼Œå†…å®¹ä¸Šæ¯”è¾ƒå˜ˆæ‚ã€‚ç°æœ‰çš„é¢„è®­ç»ƒç›®æ ‡ï¼Œä¾‹å¦‚ MLM å¯èƒ½ä¼šè¿‡æ‹Ÿåˆå™ªå£°æ–‡æœ¬ï¼Œé™ä½æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</li>
</ol>
<p>åŸºäºæ­¤ï¼š</p>
<ol>
<li>å…ˆç”¨å¯¹æ¯”å­¦ä¹ æŸå¤±  image-text contrastive lossï¼Œå¯¹é½ Image Feature å’Œ Text Feature ï¼Œç„¶åå†æ”¾å…¥ Transformer ä¸­èåˆã€‚</li>
<li>Visual Encoder å’Œ  Text Encoder å‡ä¸ä½¿ç”¨ç›®æ ‡æ£€æµ‹å™¨ã€‚</li>
<li>è®­ç»ƒè¿‡ç¨‹ä¸­ä½¿ç”¨åŸºäº <strong>åŠ¨é‡è’¸é¦ (MoD)</strong> çš„æ–¹æ³•ä½¿æ¨¡å‹èƒ½å¤Ÿåˆ©ç”¨æ›´å¤§çš„å¸¦å™ªå£°æ•°æ®é›†ã€‚<br />
åŸç†ï¼šåœ¨è®­ç»ƒæœŸé—´ï¼Œä½œè€…ç»´æŒä¸€ä¸ªåŠ¨é‡æ¨¡å‹ï¼Œå…¶å‚æ•°å°±æ˜¯ä¹‹å‰æ¨¡å‹å‚æ•°çš„ç§»åŠ¨å¹³å‡ã€‚ç„¶åä½¿ç”¨è¿™ä¸ªåŠ¨é‡æ¨¡å‹ç”Ÿæˆä¼ªç›®æ ‡ä½œä¸ºé¢å¤–çš„ç›‘ç£ã€‚å³è®©ã€Œæ»‘åŠ¨å¹³å‡çš„ modelã€å»é¢„æµ‹ï¼Œæ¢¯åº¦è¿”å›ç»™æœ€æ–°çš„æ¨¡å‹ã€‚<br />
ä½œç”¨ï¼šå½“æ•°æ®ä¸­æœ‰å™ªå£°å¯¼è‡´ç›‘ç£ä¿¡å·ä¸åˆç†æ—¶ï¼ŒåŠ¨é‡æ¨¡å‹å°±å¯ä»¥ç»™å‡ºé¢å¤–çš„ç›‘ç£ä¿¡å·ï¼Œæ”¹å–„æ¨¡å‹çš„é¢„è®­ç»ƒã€‚ä½œè€…è¡¨æ˜ MoD ä¸ä»…é€‚ç”¨äºé¢„è®­ç»ƒæ•°æ®é›†æœ‰å™ªå£°çš„æƒ…å†µï¼Œ <strong>è¿˜é€‚ç”¨äºé¢„è®­ç»ƒæ•°æ®é›†å¾ˆå¹²å‡€çš„æƒ…å†µã€‚</strong></li>
</ol>
<h2 id="æ¨¡å‹-2"><a class="markdownIt-Anchor" href="#æ¨¡å‹-2"></a> æ¨¡å‹</h2>
<p>å¦‚ä¸‹å›¾1æ‰€ç¤ºæ˜¯ ALBEF çš„æ¨¡å‹æ¶æ„ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>ä¸€ä¸ªå›¾åƒç¼–ç å™¨ï¼šå›¾åƒç¼–ç å™¨æ˜¯12å±‚ ViT-B/16, æƒé‡åˆå§‹åŒ–æ¥è‡ªäºåœ¨ ImageNet-1K ä¸Šé¢é¢„è®­ç»ƒçš„ DeiT æ¨¡å‹ï¼ŒæŠŠè¾“å…¥å›¾ç‰‡ç¼–ç æˆ Image token <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><msub><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo separator="true">,</mo><msub><mi mathvariant="bold-italic">v</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi mathvariant="bold-italic">v</mi><mi>N</mi></msub><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">\left\{\boldsymbol{v}_{\mathrm{cls}}, \boldsymbol{v}_1, \ldots, \boldsymbol{v}_N\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span> ã€‚</li>
<li>ä¸€ä¸ªæ–‡æœ¬ç¼–ç å™¨ï¼šBert-base çš„å‰ 6 å±‚ï¼ŒæŠŠè¾“å…¥æ–‡æœ¬ç¼–ç æˆ Text token <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><msub><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo separator="true">,</mo><msub><mi mathvariant="bold-italic">w</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi mathvariant="bold-italic">w</mi><mi>N</mi></msub><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">\left\{\boldsymbol{w}_{\mathrm{cls}}, \boldsymbol{w}_1, \ldots, \boldsymbol{w}_N\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span> ã€‚<br />
<strong>è§†è§‰ç¼–ç å™¨çš„ä½“é‡å¤§äºæ–‡æœ¬, ç»éªŒå‘ç°è¿™æ ·åšæ•ˆæœå¥½ã€‚</strong></li>
<li>ä¸€ä¸ªå¤šæ¨¡æ€ç¼–ç å™¨ï¼šæ˜¯ BERT çš„å6å±‚åšå¤šæ¨¡æ€ç¼–ç ã€‚</li>
</ul>
<p>è¿™é‡Œçš„ ckpt å€’æ˜¯å’Œ ViLT ä¸ä¸€æ ·äº†ï¼Œæˆ‘è§‰å¾—ä¹Ÿæ›´ç¬¦åˆç›´è§‰ï¼Œå›¾åƒç”¨ vitï¼Œæ–‡æœ¬ç”¨ bertï¼›è€Œä¸æ˜¯åªä½¿ç”¨ ViT ã€‚</p>
<p><img src="https://pic1.zhimg.com/80/v2-52f2d5cfd5bf5c93bf0fc382daeb12b4_720w.webp" alt="" /></p>
<h2 id="é¢„è®­ç»ƒç›®æ ‡-2"><a class="markdownIt-Anchor" href="#é¢„è®­ç»ƒç›®æ ‡-2"></a> é¢„è®­ç»ƒç›®æ ‡</h2>
<p>ç”¨äºå›¾æ–‡èåˆä¹‹å‰å¯¹é½çš„æŸå¤±å‡½æ•° Image-Text Contrastive Learning (ITC)<br />
å¤šæ¨¡æ€é¢„è®­ç»ƒæ ‡é…çš„å®Œå½¢å¡«ç©ºç›®æ ‡å‡½æ•° masked language modeling (MLM)<br />
ç”¨äºå¤šæ¨¡æ€é¢„è®­ç»ƒçš„å›¾æ–‡åŒ¹é…æŸå¤±å‡½æ•° image-text matching (ITM)</p>
<p><strong>Image-Text Contrastive Learning (ITC) on uni-modal encoders</strong></p>
<p>æ—¨åœ¨ fuse multi-modal feature å‰ï¼Œå¯¹é½ text feature å’Œ image feature ã€‚</p>
<p>åº”ç”¨äº <strong>å•æ¨¡æ€å›¾åƒç¼–ç å™¨å’Œæ–‡æœ¬ç¼–ç å™¨</strong>ï¼ŒITCä»»åŠ¡æ˜¯åœ¨å¤šæ¨¡æ€èåˆä¹‹å‰å°±éœ€è¦é¢„è®­ç»ƒçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ITCåªæ¶‰åŠå›¾åƒã€æ–‡æœ¬encoderï¼Œä¸æ¶‰åŠå¤šæ¨¡æ€ç¼–ç å™¨ã€‚</p>
<p>å°†ä¸¤ä¸ª 768d cls token æŠ•å½±ä¸º 256d tokenï¼Œç„¶åè®¡ç®—ç›¸ä¼¼åº¦ï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mo>=</mo><msub><mi>g</mi><mi>v</mi></msub><msup><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">âŠ¤</mi></msup><msub><mi>g</mi><mi>w</mi></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">s=g_v\left(\boldsymbol{v}_{\mathrm{cls}}\right)^{\top} g_w\left(\boldsymbol{w}_{\mathrm{cls}}\right)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2390079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span></p>
<p>åŒæ—¶ä½œè€…è¿™é‡Œå€Ÿé‰´ MoCoï¼Œ</p>
<ul>
<li>
<p>é€šè¿‡æ»‘åŠ¨å¹³å‡ç»´æŠ¤ä¸¤ä¸ªç‹¬ç«‹çš„ momentum uni-modal encoder ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>g</mi><mi>v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup></mrow><annotation encoding="application/x-tex">g&#x27;_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.998892em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>g</mi><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup></mrow><annotation encoding="application/x-tex">g&#x27;_w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.998892em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span> ã€‚</p>
</li>
<li>
<p>ç»´æŠ¤ä¸¤ä¸ªåŠ¨é‡è´Ÿæ ·æœ¬é˜Ÿåˆ—ï¼ˆæ–‡æœ¬è´Ÿæ ·æœ¬é˜Ÿåˆ—ã€å’Œã€Œå›¾ç‰‡è´Ÿæ ·æœ¬é˜Ÿåˆ—ã€ï¼‰ï¼Œå®¹é‡ä¸º M</p>
</li>
<li>
<p>ä½¿ç”¨ momentum uni-modal encoder ç¼–ç åŠ¨é‡è´Ÿæ ·æœ¬é˜Ÿåˆ—ä¸­çš„æ¯ä¸€ä¸ªè´Ÿæ ·æœ¬ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>g</mi><mi>v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">g_v^{\prime}\left(\boldsymbol{v}_{\mathrm{cls}}^{\prime}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.035em;vertical-align:-0.2831079999999999em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4168920000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>g</mi><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">g_w^{\prime}\left(\boldsymbol{w}_{\mathrm{cls}}^{\prime}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.035em;vertical-align:-0.2831079999999999em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4168920000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></p>
</li>
<li>
<p>ç”¨å½“å‰çš„æ¨¡å‹ï¼ˆéåŠ¨é‡æ¨¡å‹ï¼‰ç¼–ç å½“å‰çš„æ­£æ ·æœ¬ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>v</mi></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">g_v\left(\boldsymbol{v}_{\mathrm{cls}}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>w</mi></msub><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">g_w\left(\boldsymbol{w}_{\mathrm{cls}}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></p>
</li>
<li>
<p>å¾—åˆ°ç›¸ä¼¼åº¦ï¼š</p>
</li>
</ul>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mi>v</mi></msub><msup><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">âŠ¤</mi></msup><msubsup><mi>g</mi><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow><mtext>Â andÂ Â </mtext><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo separator="true">,</mo><mi>I</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mi>w</mi></msub><msup><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">âŠ¤</mi></msup><msubsup><mi>g</mi><mi>v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">s(I, T)=g_v\left(\boldsymbol{v}_{\mathrm{cls}}\right)^{\top} g_w^{\prime}\left(\boldsymbol{w}_{\mathrm{cls}}^{\prime}\right)\text { and }  \ s(T, I)=g_w\left(\boldsymbol{w}_{\mathrm{cls}}\right)^{\top} g_v^{\prime}\left(\boldsymbol{v}_{\mathrm{cls}}^{\prime}\right)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2390079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord">Â andÂ </span></span><span class="mspace">Â </span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2390079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span></p>
<ul>
<li>å¾—åˆ° softmax-normalized image-to-text and text-to-image similarity</li>
</ul>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: Undefined control sequence: \
 at position 163: â€¦
\text { and } \Ì²
Ì²p_m^{\mathrm{t}â€¦'>p_m^{\mathrm{i} 2 \mathrm{t}}(I)  =\frac{\exp \left(s\left(I, T_m\right) / \tau\right)}{\sum_{m=1}^M \exp \left(s\left(I, T_m\right) / \tau\right)}
\text { and } \
p_m^{\mathrm{t} 2 \mathrm{i}}(T)  =\frac{\exp \left(s\left(T, I_m\right) / \tau\right)}{\sum_{m=1}^M \exp \left(s\left(T, I_m\right) / \tau\right)}
</p>
<ul>
<li>è®¡ç®— Lossï¼š</li>
</ul>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mtext>itcÂ </mtext></msub><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msub><mi mathvariant="double-struck">E</mi><mrow><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">)</mo><mo>âˆ¼</mo><mi>D</mi></mrow></msub><mrow><mo fence="true">[</mo><mi mathvariant="normal">H</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold-italic">y</mi><mrow><mi mathvariant="normal">i</mi><mn>2</mn><mi mathvariant="normal">t</mi></mrow></msup><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi mathvariant="bold-italic">p</mi><mrow><mi mathvariant="normal">i</mi><mn>2</mn><mi mathvariant="normal">t</mi></mrow></msup><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo>+</mo><mi mathvariant="normal">H</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold-italic">y</mi><mrow><mi mathvariant="normal">t</mi><mn>2</mn><mi mathvariant="normal">i</mi></mrow></msup><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi mathvariant="bold-italic">p</mi><mrow><mi mathvariant="normal">t</mi><mn>2</mn><mi mathvariant="normal">i</mi></mrow></msup><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\text {itc }}=\frac{1}{2} \mathbb{E}_{(I, T) \sim D}\left[\mathrm{H}\left(\boldsymbol{y}^{\mathrm{i} 2 \mathrm{t}}(I), \boldsymbol{p}^{\mathrm{i} 2 \mathrm{t}}(I)\right)+\mathrm{H}\left(\boldsymbol{y}^{\mathrm{t} 2 \mathrm{i}}(T), \boldsymbol{p}^{\mathrm{t} 2 \mathrm{i}}(T)\right)\right]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">itcÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span><span class="mrel mtight">âˆ¼</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathrm">H</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">y</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">i</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">t</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">p</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">i</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">t</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathrm">H</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">y</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">t</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">i</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">p</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">t</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">i</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span></span></span></span></p>
<p>å…¶å®å°±æ˜¯ä¸¤ä¸ªç‚¹ï¼š</p>
<ul>
<li>é”šç‚¹æ­£æ ·æœ¬æ¥æºäºå½“å‰ batchï¼Œå¹¶ä¸”ä½¿ç”¨å½“å‰çš„ encoder</li>
<li>è´Ÿæ ·æœ¬æ¥æºäºç¼“å­˜çš„åºåˆ—ï¼Œæ¨¡å‹ä¹Ÿæ˜¯åŠ¨é‡æ¨¡å‹</li>
</ul>
<p><strong>Masked Language Modeling (MLM) on the multi-modal encoder</strong><br />
15% çš„ mask ratio</p>
<p><strong>Image-Text Matching Loss (ITM) on the multi-modal encoder</strong><br />
é¢„æµ‹ä¸€å¯¹å›¾åƒå’Œæ–‡æœ¬æ˜¯æ­£æ ·æœ¬è¿˜æ˜¯è´Ÿæ ·æœ¬ã€‚ä½œè€…ä½¿ç”¨å¤šæ¨¡æ€ç¼–ç å™¨çš„è¾“å‡ºåµŒå…¥ [CLS] token ä½œä¸ºå›¾åƒ-æ–‡æœ¬å¯¹çš„è”åˆè¡¨ç¤ºï¼Œå¹¶é€šè¿‡ä¸€ä¸ª FC å±‚å’Œä¸€ä¸ª Softmax æ¥é¢„æµ‹äºŒç±»æ¦‚ç‡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>p</mi><mrow><mi>i</mi><mi>t</mi><mi>m</mi></mrow></msup></mrow><annotation encoding="application/x-tex">p^{itm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.019104em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>è¿˜ä½¿ç”¨äº† ITC ä¸­è®¡ç®—å¾—åˆ°çš„ç›¸ä¼¼åº¦åœ¨åŒä¸€ä¸ª batch å†…ä¸ºæ¯ä¸€ä¸ªæ­£æ ·æœ¬å¯¹æŒ–æ˜ä¸¤ä¸ªéš¾è´Ÿæ ·æœ¬å¯¹:</p>
<ul>
<li>
<p>å¯¹äºä¸€ä¸ª Batch ä¸­æ¯ä¸ªå›¾åƒï¼ŒALBEF ä¼šé‡‡æ ·æœ€éš¾çš„é‚£ä¸ªæ–‡æœ¬æ ·æœ¬ä½œä¸ºè´Ÿæ ·æœ¬ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>(Â hardÂ NÂ text,Â posÂ ImageÂ )</mtext></mrow><annotation encoding="application/x-tex">\text{( hard N  text, pos Image )}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(Â hardÂ NÂ text,Â posÂ ImageÂ )</span></span></span></span></span></p>
</li>
<li>
<p>å¯¹äºä¸€ä¸ª Batch ä¸­æ¯ä¸ªæ–‡æœ¬ï¼ŒALBEF ä¼šé‡‡æ ·æœ€éš¾çš„é‚£ä¸ªå›¾åƒæ ·æœ¬ä½œä¸ºè´Ÿæ · <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>(Â posÂ text,Â hardÂ NÂ ImageÂ )</mtext></mrow><annotation encoding="application/x-tex">\text{( pos text, hard N Image )}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(Â posÂ text,Â hardÂ NÂ ImageÂ )</span></span></span></span></span></p>
</li>
<li>
<p>ç„¶åå’Œæ­£æ ·æœ¬ä¸€èµ·æ„æˆå›¾æ–‡åŒ¹é…æŸå¤±ã€‚</p>
</li>
</ul>
<h2 id="momentum-distillation"><a class="markdownIt-Anchor" href="#momentum-distillation"></a> Momentum Distillation</h2>
<p>ä»ç½‘ç»œä¸Šæ”¶é›†çš„å›¾åƒ-æ–‡æœ¬å¯¹å¾€å¾€æ˜¯å¼±ç›¸å…³çš„ï¼šæ–‡æœ¬å¯èƒ½åŒ…å«ä¸å›¾åƒæ— å…³çš„è¯ï¼Œæˆ–è€…å›¾åƒå¯èƒ½åŒ…å«æ–‡æœ¬ä¸­æ²¡æœ‰æè¿°çš„å®ä½“ï¼Œå½±å“äº† ITC å’Œ MLM ã€‚ä¸ºäº†ä»å˜ˆæ‚çš„æ•°æ®ä¸­å­¦ä¹ ï¼Œæˆ‘ä»¬æå‡ºäº†åŠ¨é‡è’¸é¦æ³•ï¼Œå³ä½¿ç”¨åŠ¨é‡æ¨¡å‹ä¸ºå›¾åƒ-æ–‡æœ¬å¯¹æ¯”å­¦ä¹ å’Œæ©ç è¯­è¨€å»ºæ¨¡ç”Ÿæˆä¼ªç›®æ ‡ã€‚</p>
<p>åŒæ—¶ï¼šåŠ¨é‡æç‚¼å¯ä»¥è¢«è§£é‡Šä¸ºï¼ŒåŠ¨é‡æ¨¡å‹çš„é¢„æµ‹ä¸ºæ¯ä¸ªå›¾åƒ-æ–‡æœ¬å¯¹äº§ç”Ÿä¸€ç³»åˆ—æ–°çš„è§†è§’ã€‚</p>
<p><img src="https://cdn.mathpix.com/snip/images/i73ByKIO7wuvrs5pcLaQnxTn1Nv8LNRkOyu_SMhDNhg.original.fullsize.png" alt="" /></p>
<p>ä½œè€…æå‡º <strong>ã€Œlearn from pseudo-targets generated by the momentum modelã€</strong>ï¼Œè®©åŠ¨é‡æ¨¡å‹å……å½“ teacher modelï¼Œç”Ÿæˆä¼ªæ ‡ç­¾ï¼Œä½œä¸º base model çš„ç›‘ç£ä¿¡å·ï¼Œå…·ä½“åœ°ï¼š</p>
<p><strong>å¯¹äº ITC</strong><br />
åŸæœ¬æ­£æ ·æœ¬æ˜¯ current base encoder ç¼–ç ï¼Œè´Ÿæ ·æœ¬æ˜¯ momentum encoder ç¼–ç ï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mi>v</mi></msub><msup><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">âŠ¤</mi></msup><msubsup><mi>g</mi><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow><mtext>Â andÂ Â </mtext><mi>s</mi><mo stretchy="false">(</mo><mi>T</mi><mo separator="true">,</mo><mi>I</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>g</mi><mi>w</mi></msub><msup><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">âŠ¤</mi></msup><msubsup><mi>g</mi><mi>v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">s(I, T)=g_v\left(\boldsymbol{v}_{\mathrm{cls}}\right)^{\top} g_w^{\prime}\left(\boldsymbol{w}_{\mathrm{cls}}^{\prime}\right)\text { and }  \ s(T, I)=g_w\left(\boldsymbol{w}_{\mathrm{cls}}\right)^{\top} g_v^{\prime}\left(\boldsymbol{v}_{\mathrm{cls}}^{\prime}\right)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2390079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord">Â andÂ </span></span><span class="mspace">Â </span><span class="mord mathnormal">s</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2390079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span></p>
<p>è¿™é‡Œåˆ™å…¨éƒ½äº¤ç»™ momentum encoder è¿›è¡Œç¼–ç ï¼Œå¾—åˆ°æ–°çš„ç›¸ä¼¼åº¦ï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>g</mi><mi>v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><msup><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">âŠ¤</mi></msup><msubsup><mi>g</mi><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow><mtext>Â andÂ </mtext><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo stretchy="false">(</mo><mi>T</mi><mo separator="true">,</mo><mi>I</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi>g</mi><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><msup><mrow><mo fence="true">(</mo><msub><mi mathvariant="bold-italic">w</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">âŠ¤</mi></msup><msubsup><mi>g</mi><mi>v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="bold-italic">v</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">s^{\prime}(I, T)=g_v^{\prime}\left(\boldsymbol{v}_{\mathrm{cls}}\right)^{\top} g_w^{\prime}\left(\boldsymbol{w}_{\mathrm{cls}}^{\prime}\right) \text { and } s^{\prime}(T, I)=g_w^{\prime}\left(\boldsymbol{w}_{\mathrm{cls}}\right)^{\top} g_v^{\prime}\left(\boldsymbol{v}_{\mathrm{cls}}^{\prime}\right)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2390079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord">Â andÂ </span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2390079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">v</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span></p>
<p>å¯ä»¥çœ‹åˆ°å·¦è¾¹çš„ç¼–ç å™¨ä»åŸå§‹çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>g</mi><mi>w</mi></msub><mo separator="true">,</mo><msub><mi>g</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">g_w, g_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å˜æˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>g</mi><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup><mo separator="true">,</mo><msubsup><mi>g</mi><mi>v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msubsup></mrow><annotation encoding="application/x-tex">g_w^{\prime}, g_v^{\prime}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.998892em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span> ã€‚</p>
<p>ç„¶åè¿˜æ˜¯ä¸€æ ·åœ°å¾—åˆ° soft pseudo-targets softmax-normalized image-to-text and text-to-image similarity <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold-italic">q</mi><mrow><mi mathvariant="normal">i</mi><mn>2</mn><mi mathvariant="normal">t</mi></mrow></msup><mo separator="true">,</mo><mtext>Â </mtext><msup><mi mathvariant="bold-italic">q</mi><mrow><mi mathvariant="normal">t</mi><mn>2</mn><mrow><mi mathvariant="normal">i</mi><mi mathvariant="normal">i</mi></mrow></mrow></msup></mrow><annotation encoding="application/x-tex">\boldsymbol{q}^{\mathrm{i} 2 \mathrm{t}},\ \boldsymbol{q}^{\mathrm{t} 2 \mathrm{ii}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.024942em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">q</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.830502em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">i</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">t</span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">q</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.830502em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">t</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">i</span><span class="mord mathrm mtight">i</span></span></span></span></span></span></span></span></span></span></span></span></span> ï¼Œä½œä¸º teacher similarityï¼Œè®© base model çš„ç»“æœå’Œè¿™ä¸ª teacher similarity å·®è·å˜å°ï¼Œè¿™é‡Œä½¿ç”¨äº† KL æ•£åº¦ã€‚</p>
<p>æœ€ç»ˆå’ŒåŸå§‹çš„ loss åŠ æƒåœ¨ä¸€èµ·å³å¯ï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi mathvariant="script">L</mi><mrow><mi mathvariant="normal">i</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">c</mi></mrow><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></msubsup><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mo stretchy="false">)</mo><msub><mi mathvariant="script">L</mi><mrow><mi mathvariant="normal">i</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">c</mi></mrow></msub><mo>+</mo><mfrac><mi>Î±</mi><mn>2</mn></mfrac><msub><mi mathvariant="double-struck">E</mi><mrow><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mi>T</mi><mo stretchy="false">)</mo><mo>âˆ¼</mo><mi>D</mi></mrow></msub><mrow><mo fence="true">[</mo><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">L</mi></mrow><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold-italic">q</mi><mrow><mi mathvariant="normal">i</mi><mn>2</mn><mi mathvariant="normal">t</mi></mrow></msup><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ¥</mi><msup><mi mathvariant="bold-italic">p</mi><mrow><mi mathvariant="normal">i</mi><mn>2</mn><mi mathvariant="normal">t</mi></mrow></msup><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">L</mi></mrow><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold-italic">q</mi><mrow><mi mathvariant="normal">t</mi><mn>2</mn><mi mathvariant="normal">i</mi></mrow></msup><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ¥</mi><msup><mi mathvariant="bold-italic">p</mi><mrow><mi mathvariant="normal">t</mi><mn>2</mn><mi mathvariant="normal">i</mi></mrow></msup><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\mathrm{itc}}^{\mathrm{mod}}=(1-\alpha) \mathcal{L}_{\mathrm{itc}}+\frac{\alpha}{2} \mathbb{E}_{(I, T) \sim D}\left[\mathrm{KL}\left(\boldsymbol{q}^{\mathrm{i} 2 \mathrm{t}}(I) \| \boldsymbol{p}^{\mathrm{i} 2 \mathrm{t}}(I)\right)+\mathrm{KL}\left(\boldsymbol{q}^{\mathrm{t} 2 \mathrm{i}}(T) \| \boldsymbol{p}^{\mathrm{t} 2 \mathrm{i}}(T)\right)\right]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.146108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">i</span><span class="mord mathrm mtight">t</span><span class="mord mathrm mtight">c</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">m</span><span class="mord mathrm mtight">o</span><span class="mord mathrm mtight">d</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31750199999999995em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">i</span><span class="mord mathrm mtight">t</span><span class="mord mathrm mtight">c</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.7935600000000003em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span><span class="mrel mtight">âˆ¼</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathrm">K</span><span class="mord mathrm">L</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">q</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">i</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">t</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mord">âˆ¥</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">p</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">i</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">t</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathrm">K</span><span class="mord mathrm">L</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">q</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">t</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">i</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord">âˆ¥</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">p</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8805019999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">t</span></span><span class="mord mtight">2</span><span class="mord mtight"><span class="mord mathrm mtight">i</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span></span></span></span></p>
<p><strong>å¯¹äº MLM</strong><br />
ä¹Ÿæ˜¯ä¸€æ ·çš„è®©åŠ¨é‡æ¨¡å‹é¢„æµ‹ä¸€ä¸ª mask token çš„æ¦‚ç‡åˆ†å¸ƒ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold-italic">q</mi><mrow><mi>m</mi><mi>a</mi><mi>s</mi><mi>k</mi></mrow></msup><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mover accent="true"><mi>T</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\boldsymbol{q}^{mask}(I, \hat T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.19677em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">q</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ï¼Œç„¶åæŒ‡å¯¼ base modelï¼Œå¾—åˆ°æœ€ç»ˆçš„åŠ æƒ lossï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi mathvariant="script">L</mi><mtext>mlmÂ </mtext><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></msubsup><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Î±</mi><mo stretchy="false">)</mo><msub><mi mathvariant="script">L</mi><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">m</mi></mrow></msub><mo>+</mo><mi>Î±</mi><msub><mi mathvariant="double-struck">E</mi><mrow><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mover accent="true"><mi>T</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo>âˆ¼</mo><mi>D</mi></mrow></msub><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">L</mi></mrow><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold-italic">q</mi><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">k</mi></mrow></msup><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mover accent="true"><mi>T</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ¥</mi><msup><mi mathvariant="bold-italic">p</mi><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">k</mi></mrow></msup><mo stretchy="false">(</mo><mi>I</mi><mo separator="true">,</mo><mover accent="true"><mi>T</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\text {mlm }}^{\mathrm{mod}}=(1-\alpha) \mathcal{L}_{\mathrm{mlm}}+\alpha \mathbb{E}_{(I, \hat{T}) \sim D} \mathrm{KL}\left(\boldsymbol{q}^{\mathrm{msk}}(I, \hat{T}) \| \boldsymbol{p}^{\mathrm{msk}}(I, \hat{T})\right)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.146108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999998em;"><span style="top:-2.4530000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">mlmÂ </span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">m</span><span class="mord mathrm mtight">o</span><span class="mord mathrm mtight">d</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">m</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">m</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34479999999999994em;"><span style="top:-2.382061em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mpunct mtight">,</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span><span style="top:-2.9523300000000003em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord mtight">^</span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mrel mtight">âˆ¼</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.49293899999999985em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">K</span><span class="mord mathrm">L</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">q</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">m</span><span class="mord mathrm mtight">s</span><span class="mord mathrm mtight">k</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">âˆ¥</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">p</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">m</span><span class="mord mathrm mtight">s</span><span class="mord mathrm mtight">k</span></span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mord">^</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span></span></p>
<p><strong>Usage</strong><br />
also apply MoD to the downstream tasks ;<br />
set the weight <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mo>=</mo><mn>0.4</mn></mrow><annotation encoding="application/x-tex">\alpha = 0.4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span></span></span></span> for all pre-training and downstream tasks .</p>
<h2 id="å®éªŒ"><a class="markdownIt-Anchor" href="#å®éªŒ"></a> å®éªŒ</h2>
<p>å›¾æ–‡æ£€ç´¢ä»»åŠ¡ (Image-Text Retrieval) åŒ…æ‹¬ä¸¤ä¸ªå­ä»»åŠ¡ï¼šå›¾åƒåˆ°æ–‡æœ¬æ£€ç´¢ (TR) å’Œæ–‡æœ¬åˆ°å›¾åƒæ£€ç´¢ (IR)ã€‚ä½œè€…åœ¨ Flickr30K å’Œ COCO è¿™ä¸¤ä¸ªæ•°æ®é›†ä¸Šåšäº†éªŒè¯ã€‚</p>
<p>è§†è§‰è•´å«ä»»åŠ¡ (Visual Entailment, SNLI-VE) æ˜¯ä¸€ä¸ªç»†ç²’åº¦çš„è§†è§‰æ¨ç†ä»»åŠ¡ï¼Œç”¨äºé¢„æµ‹å›¾åƒå’Œæ–‡æœ¬ä¹‹é—´çš„å…³ç³»æ˜¯è•´æ¶µã€ä¸­æ€§æˆ–çŸ›ç›¾çš„ã€‚å°† VE è§†ä¸ºä¸‰åˆ†ç±»é—®é¢˜ï¼Œå¹¶åœ¨å¤šæ¨¡æ€ç¼–ç å™¨çš„ [CLS] token çš„è¾“å‡ºç»“æœåŠ ä¸Šåˆ†ç±»å¤´å¾—åˆ°æ¯ä¸ªç±»çš„æ¦‚ç‡ã€‚</p>
<p>è§†è§‰é—®ç­”ä»»åŠ¡ (Visual Question Answering, VQA) è¦æ±‚æ¨¡å‹é¢„æµ‹ç»™å®šå›¾åƒå’Œé—®é¢˜çš„ç­”æ¡ˆã€‚ä¸ç°æœ‰çš„å°† VQA åˆ¶å®šä¸ºå¤šç­”æ¡ˆåˆ†ç±»é—®é¢˜çš„æ–¹æ³•ä¸åŒï¼ŒALBEF å°† VQA è§†ä¸ºç­”æ¡ˆç”Ÿæˆé—®é¢˜ã€‚<br />
ä½œè€…ä½¿ç”¨6å±‚çš„ Transformer Decoder æ¥ç”Ÿæˆç­”æ¡ˆã€‚</p>
<p>è‡ªç„¶è¯­è¨€è§†è§‰æ¨ç†ä»»åŠ¡ (Natural Language for Visual Reasoning, NLVR2) è¦æ±‚æ¨¡å‹é¢„æµ‹æ–‡æœ¬æ˜¯å¦æè¿°äº†ä¸€å¯¹å›¾åƒã€‚ä½œè€…æ‰©å±•äº†å¤šæ¨¡æ€ç¼–ç å™¨ï¼Œä»¥å®ç°å¯¹ä¸¤å¹…å›¾åƒçš„æ¨ç†ã€‚</p>
<p><span id="click_me_jump5"></span></p>
<h1 id="meter"><a class="markdownIt-Anchor" href="#meter"></a> Meter</h1>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2111.02387">An Empirical Study of Training End-to-End Vision-and-Language Transformers</a></p>
<p><span id="click_me_jump6"></span></p>
<h1 id="coca"><a class="markdownIt-Anchor" href="#coca"></a> CoCa</h1>
<p>Paper: <a target="_blank" rel="noopener" href="https://arxiv.org/abs/2205.01917">CoCa: Contrastive Captioners are Image-Text Foundation Models</a><br />
Code: <a target="_blank" rel="noopener" href="https://github.com/lucidrains/CoCa-pytorch">https://github.com/lucidrains/CoCa-pytorch</a><br />
Blog: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/627702632">å¤šæ¨¡æ€è¶…è¯¦ç»†è§£è¯» (ä¹)ï¼šCoCaï¼šå¯¹æ¯”å­¦ä¹ å’Œç”Ÿæˆå¼ä»»åŠ¡è®­ç»ƒå¤šæ¨¡æ€å¤§æ¨¡å‹</a></p>
<p>Co: Contrastive Loss<br />
Ca: Captioning (Generative) Loss</p>
<p>å¸¸è§„CV å’Œ å¤šæ¨¡æ€ä»»åŠ¡ä¸Šå·²ç»å‡ºç°äº†ä¸€äº›æ¨¡å‹ï¼š</p>
<ol>
<li>CV çš„ç¼–ç æ¨¡å‹ï¼Œåˆ†ç±»æŸå¤±ä¸ºï¼š</li>
</ol>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi mathvariant="normal">C</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">s</mi></mrow></msub><mo>=</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mi>log</mi><mo>â¡</mo><msub><mi>q</mi><mi>Î¸</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\mathrm{Cls}}=-p(y) \log q_\theta(x)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">C</span><span class="mord mathrm mtight">l</span><span class="mord mathrm mtight">s</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ’</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p>
<ol start="2">
<li>
<p>é€šè¿‡å¯¹æ¯”æŸå¤±é¢„è®­ç»ƒ Dual-Encoder çš„è§†è§‰æ¨¡å‹å’Œè¯­è¨€æ¨¡å‹ï¼š</p>
<ul>
<li>èƒ½å°† image å’Œ text æ½œå…¥åˆ°ç›¸åŒçš„ç©ºé—´ï¼Œæ‹¥æœ‰æ¨¡æ€å¯¹é½çš„èƒ½åŠ›ï¼ˆ cross-modal alignment capabilities ï¼‰ï¼Œæ‰€ä»¥æ¯”è¾ƒé€‚åˆ zero-shot image classification å’Œ image-text retrieval ä»»åŠ¡ ã€‚<br />
æŸå¤±å‡½æ•°ä¸ºï¼š</li>
</ul>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mtext>ConÂ </mtext></msub><mo>=</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><mo stretchy="false">(</mo><munder><munder><mrow><mo fence="true">(</mo><munderover><mo>âˆ‘</mo><mi>i</mi><mi>N</mi></munderover><mi>log</mi><mo>â¡</mo><mfrac><mrow><mi>exp</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><msubsup><mi>x</mi><mi>i</mi><mi mathvariant="normal">âŠ¤</mi></msubsup><msub><mi>y</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>Ïƒ</mi><mo fence="true">)</mo></mrow></mrow><mrow><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi>exp</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><msubsup><mi>x</mi><mi>i</mi><mi mathvariant="normal">âŠ¤</mi></msubsup><msub><mi>y</mi><mi>j</mi></msub><mi mathvariant="normal">/</mi><mi>Ïƒ</mi><mo fence="true">)</mo></mrow></mrow></mfrac></mrow><mo stretchy="true">âŸ</mo></munder><mtext>image-to-textÂ </mtext></munder><mo>+</mo><munder><munder><mrow><munderover><mo>âˆ‘</mo><mi>i</mi><mi>N</mi></munderover><mi>log</mi><mo>â¡</mo><mfrac><mrow><mi>exp</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><msubsup><mi>y</mi><mi>i</mi><mi mathvariant="normal">âŠ¤</mi></msubsup><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>Ïƒ</mi><mo fence="true">)</mo></mrow></mrow><mrow><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mi>exp</mi><mo>â¡</mo><mrow><mo fence="true">(</mo><msubsup><mi>y</mi><mi>i</mi><mi mathvariant="normal">âŠ¤</mi></msubsup><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">/</mi><mi>Ïƒ</mi><mo fence="true">)</mo></mrow></mrow></mfrac><mo fence="true">)</mo></mrow><mo stretchy="true">âŸ</mo></munder><mtext>text-to-imageÂ </mtext></munder></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\text {Con }}=-\frac{1}{N}(\underbrace{\left(\sum_i^N \log \frac{\exp \left(x_i^{\top} y_i / \sigma\right)}{\sum_{j=1}^N \exp \left(x_i^{\top} y_j / \sigma\right)}\right.}_{\text {image-to-text }}+\underbrace{\left.\sum_i^N \log \frac{\exp \left(y_i^{\top} x_i / \sigma\right)}{\sum_{j=1}^N \exp \left(y_i^{\top} x_j / \sigma\right)}\right)}_{\text {text-to-image }}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ConÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:4.586995em;vertical-align:-2.7586590000000006em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283359999999995em;"><span style="top:-1.2057849999999994em;"><span class="pstrut" style="height:3.828336em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">image-to-textÂ </span></span></span></span></span><span style="top:-3.8283359999999993em;"><span class="pstrut" style="height:3.828336em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span class="svg-align" style="top:-1.873287em;"><span class="pstrut" style="height:3.828336em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3.828336em;"><span class="pstrut" style="height:3.828336em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59001em;"><span style="top:-2.128769em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.830908em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7400100000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">exp</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3070490000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.9550490000000003em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7586590000000006em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:4.586995em;vertical-align:-2.7586590000000006em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283359999999995em;"><span style="top:-1.2057849999999994em;"><span class="pstrut" style="height:3.828336em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">text-to-imageÂ </span></span></span></span></span><span style="top:-3.8283359999999993em;"><span class="pstrut" style="height:3.828336em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span class="svg-align" style="top:-1.873287em;"><span class="pstrut" style="height:3.828336em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3.828336em;"><span class="pstrut" style="height:3.828336em;"></span><span class="mord"><span class="minner"><span class="mopen nulldelimiter"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59001em;"><span style="top:-2.128769em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.830908em;"><span style="top:-2.4231360000000004em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.0448000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.27686399999999994em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7400100000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">exp</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âŠ¤</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3070490000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.9550490000000003em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7586590000000006em;"><span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>å› ä¸ºåœ¨è®­ç»ƒä¸­æ²¡æœ‰å­¦ä¹ æ¨¡æ€ä¿¡æ¯äº¤äº’çš„æ¨¡å—ï¼ˆ due to missing joint components to learn fused image and text representations ï¼‰ï¼Œæ‰€ä»¥ä¸é€‚ç”¨äº joint vision-language understanding tasksï¼Œæ¯”å¦‚ VQA ã€‚</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨ç”Ÿæˆå¼é¢„è®­ç»ƒæ–¹æ³•çš„ Encoder-Decoder Model ï¼Œåœ¨ Encoder ä¾§ç¼–ç å›¾åƒï¼Œåœ¨ Decoder ä¾§ç”Ÿæˆæ–‡å­— ï¼Œè¿™ç§ä»»åŠ¡è®©æ¨¡å‹å­¦ä¼šå»ºæ¨¡è§†è§‰è¯­è¨€çš„è”åˆè¡¨å¾ï¼Œä»è€Œé€‚ç”¨äº multi-modal understanding tasks ã€‚<br />
ä½†æ˜¯ä¸€äº›è¿™æ ·çš„æ–¹æ³•åˆç¼ºå°‘äº† text-only representations å’Œ image embeddings çš„å¯¹é½ä»»åŠ¡ã€‚<br />
Image Encoder + AG Text Decoder ï¼ŒæŸå¤±ä¸º</p>
</li>
</ol>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mtext>CapÂ </mtext></msub><mo>=</mo><mo>âˆ’</mo><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>log</mi><mo>â¡</mo><msub><mi>P</mi><mi>Î¸</mi></msub><mrow><mo fence="true">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo>âˆ£</mo><msub><mi>y</mi><mrow><mo>&lt;</mo><mi>t</mi></mrow></msub><mo separator="true">,</mo><mi>x</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\text {Cap }}=-\sum_{t=1}^T \log P_\theta\left(y_t \mid y_{&lt;t}, x\right)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CapÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17737em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span></p>
<br>
<h2 id="model"><a class="markdownIt-Anchor" href="#model"></a> Model</h2>
<p>æ‰€ä»¥æœ¬æ–‡å°±æ˜¯æƒ³æå‡ºä¸€ä¸ªæ¨¡å‹ï¼Œæœ‰ä¸‰ç§èƒ½åŠ›ï¼Œè®©æ¨¡å‹ï¼š</p>
<ul>
<li>æœ‰å¾ˆå¥½çš„å›¾åƒç‹¬ç«‹ç¼–ç èƒ½åŠ›  -&gt; single-encoder</li>
<li>æœ‰ä¸¤ä¸ªæ¨¡æ€ç‹¬ç«‹ç¼–ç çš„å¯¹é½èƒ½åŠ› -&gt;  dual-encoder</li>
<li>æœ‰ä¸¤ä¸ªæ¨¡æ€çš„ç†è§£äº¤äº’èƒ½åŠ›  -&gt; encoder-decoder</li>
</ul>
<p><img src="https://cdn.mathpix.com/snip/images/gMaO2CfvyMoxtUFG4F3f39Pl3DPkrvpGAxbHAcNUm5M.original.fullsize.png" alt="" /></p>
<p>å…·ä½“åœ°ï¼Œä½œè€…æå‡ºæ¨¡å‹ CoCa ï¼Œç»“æ„ä¸º encoder-decoderï¼š</p>
<ul>
<li>a single Image Encoder</li>
<li>a two-part Text Decoder
<ul>
<li>a uni-modal decoder: <strong>Self attention</strong> to encode <strong>text-only representations</strong></li>
<li>a multi-modal decoder: <strong>Cross-Attend</strong> image encoder outputs to learn <strong>multi-modal image-text representations</strong></li>
</ul>
</li>
</ul>
<p><strong>a simple encoder-decoder approach that seamlessly combines the three training paradigms.</strong></p>
<h2 id="contrastive-captioners-pretraining"><a class="markdownIt-Anchor" href="#contrastive-captioners-pretraining"></a> Contrastive Captioners Pretraining</h2>
<p><img src="https://cdn.mathpix.com/snip/images/MHOge480Yy6fpCah4iKv-gL8hf6oF6PhIgokcfW-xbQ.original.fullsize.png" alt="Figure 2: Detailed illustration of CoCa architecture and training objectives." /></p>
<p>é¢„è®­ç»ƒç›®æ ‡ä¸º  contrastive loss å’Œ captioning (generative) loss ï¼š</p>
<ul>
<li><strong>the contrastive objective</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">L</mi><mtext>ConÂ </mtext></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\text {Con }}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ConÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> between outputs of the image encoder and uni-modal text decoder , ä½¿å¾—äºŒè€…éƒ½å…·å¤‡ç‹¬ç«‹æå–å›¾åƒç‰¹å¾å’Œæ–‡æœ¬ç‰¹å¾çš„èƒ½åŠ›ï¼Œè€Œä¸”å­¦ä¹ åˆ°çš„æ˜¯åå…¨å±€çš„å›¾æ–‡è¡¨å¾ã€‚<br />
ç¬¬ä¸€ä¸ªå¯¹æ¯”æŸå¤±çš„è¡¨å¾æ¥è‡ªäº Image encoder å’Œç¬¬ä¸€å±‚  uni-modal Text decoder</li>
</ul>
<blockquote>
<p>The single-encoder cross- entropy classification objective can be interpreted as a special case of the generative approach applied on image annotation data, when the vocabulary is the set of all label names.</p>
</blockquote>
<ul>
<li><strong>the captioning objective</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="script">L</mi><mtext>CapÂ </mtext></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\text {Cap }}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CapÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> at the output of the multi-modal decoder , ä½¿å¾—å…¶å…·æœ‰è”åˆæå–å›¾åƒæ–‡æœ¬è”åˆè¡¨å¾çš„èƒ½åŠ›ï¼Œè€Œä¸”å­¦ä¹ åˆ°çš„æ˜¯åç»†ç²’åº¦çš„å›¾æ–‡è¡¨å¾ã€‚<br />
ç¬¬äºŒä¸ªè‡ªå›å½’æŸå¤±æ¥è‡ªäº Image encoder å’Œç¬¬äºŒå±‚ multi-modal AG Text decoder</li>
</ul>
<p>æ€»æŸå¤±ä¸ºï¼š</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="script">L</mi><mtext>CoCaÂ </mtext></msub><mo>=</mo><msub><mi>Î»</mi><mtext>ConÂ </mtext></msub><mo>â‹…</mo><msub><mi mathvariant="script">L</mi><mtext>ConÂ </mtext></msub><mo>+</mo><msub><mi>Î»</mi><mtext>CapÂ </mtext></msub><mo>â‹…</mo><msub><mi mathvariant="script">L</mi><mtext>CapÂ </mtext></msub></mrow><annotation encoding="application/x-tex">\mathcal{L}_{\text {CoCa }}=\lambda_{\text {Con }} \cdot \mathcal{L}_{\text {Con }}+\lambda_{\text {Cap }} \cdot \mathcal{L}_{\text {Cap }}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CoCaÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ConÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">ConÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">Î»</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CapÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.328331em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">CapÂ </span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p><strong>æ•ˆç‡ï¼š</strong><br />
ALBEF åœ¨æ¯ä¸ª iteration è®­ç»ƒçš„æ—¶å€™ï¼Œæ–‡æœ¬éƒ¨åˆ†çš„ Encoder æ¨¡å‹è¦ forward 2æ¬¡ï¼Œä¸€æ¬¡æ˜¯è¾“å…¥å®Œæ•´çš„æ–‡æœ¬åšå›¾æ–‡åŒ¹é…ä»»åŠ¡ï¼Œä¸€æ¬¡æ˜¯è¾“å…¥ mask ä¹‹åçš„æ–‡æœ¬åšå®Œå½¢å¡«ç©ºä»»åŠ¡ã€‚ä½†æ˜¯ CoCa æ–‡æœ¬éƒ¨åˆ†çš„ Decoder æ¨¡å‹åªéœ€è¦ forward 1æ¬¡ï¼Œå³å¯åŒæ—¶è®¡ç®—å¯¹æ¯”å­¦ä¹ çš„æŸå¤±å’Œå›¾ç‰‡å­—å¹•çš„æŸå¤±ã€‚</p>
<p>å³ï¼ša simple decoupled decoder design where we split the decoder into unimodal and multimodal components</p>
<p><strong>Pooler:</strong><br />
åœ¨æ–‡æœ¬ç«¯æœ€ååŠ å…¥ [cls] token ï¼Œæ¥ä½œä¸º text representation</p>
<p>åœ¨å›¾ç‰‡ç«¯ï¼Œä½œè€…è®¤ä¸º more visual tokens æ›´é€‚åˆ multimodal understanding tasks ï¼Œå› ä¸ºå¯ä»¥æä¾› region-level features ã€‚<br />
æ‰€ä»¥è¿™é‡Œä½¿ç”¨äº† <strong>Attentional Pooler</strong> ï¼Œä¸€ç§ task-specific attentional pooling çš„èšåˆæ–¹æ³•ï¼šåœ¨ encoder ä¹‹åï¼ŒåŠ å…¥ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_{query}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> ä¸ªå¯ä»¥å­¦ä¹ çš„ query tokenï¼Œç„¶åå¯¹ encoder output åš attention ã€‚</p>
<ul>
<li>å¯¹äºç”Ÿæˆä»»åŠ¡ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>256</mn></mrow><annotation encoding="application/x-tex">n_{query}=256</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">6</span></span></span></span></li>
<li>å¯¹äºå¯¹æ¯”å­¦ä¹ ä»»åŠ¡ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>q</mi><mi>u</mi><mi>e</mi><mi>r</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n_{query}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></li>
</ul>
<p>è¿™äº› query token è¿˜å¯ä»¥å˜ç›¸åœ°è¢«çœ‹ä½œ adaptor ã€‚</p>
<h2 id="contrastive-captioners-for-downstream-tasks"><a class="markdownIt-Anchor" href="#contrastive-captioners-for-downstream-tasks"></a> Contrastive Captioners for Downstream Tasks</h2>
<p><img src="https://pic1.zhimg.com/80/v2-ba7743d56dcfd61c13883602d0423610_720w.webp" alt="" /></p>
<p>ç¬¬1ç§æ˜¯é›¶æ ·æœ¬è¿ç§» (Zero-Shot Transfer) ä»»åŠ¡ï¼Œå…·ä½“åŒ…æ‹¬ Zero-Shot Image Classification, Zero-Shot Image-Text Cross-Retrieval, Zero-Shot Video-Text Cross-Retrievalã€‚</p>
<p>ç¬¬2ç§æ˜¯å†»ä½ç¼–ç å™¨ç‰¹å¾åšè¯„ä¼° (Frozen-feature Evaluation) ä»»åŠ¡ï¼ŒCoCa æ¨¡å‹è®­ç»ƒå¥½ä¹‹åä¼šå¾—åˆ°ä¸€ä¸ª backbone encoderï¼Œå¯¹äºä¸åŒä»»åŠ¡åªæ˜¯ pooler çš„ query ä¸ä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯åªéœ€è¦é‡æ–°å­¦ query token å³å¯ã€‚</p>
<p>ç¬¬3ç§æ˜¯è§†é¢‘åŠ¨ä½œè¯†åˆ« (Video Action Recognition) ä»»åŠ¡ï¼ŒCoCa æ¨¡å‹åˆ†åˆ«å°†æ¯ä¸€å¸§è¾“å…¥å…±äº«å›¾åƒç¼–ç å™¨ï¼Œå¦‚ä¸‹å›¾6æ‰€ç¤ºã€‚CoCa æ¨¡å‹é¢å¤–ä½¿ç”¨äº¤å‰ç†µæŸå¤±å‡½å­¦ä¹ äº†ä¸€ä¸ª attentional_poolerï¼Œå®ƒçš„è¾“å…¥æ˜¯1ä¸ª query å’Œæ‰€æœ‰çš„ç©ºé—´å’Œæ—¶é—´ç‰¹å¾ tokenã€‚</p>
<p><img src="https://pic4.zhimg.com/80/v2-01c2da4ea60d7fcd190a0d5a48649dab_720w.webp" alt="" /></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/03/03/MySQL%20info/mysql%20%E4%BA%8B%E5%8A%A1/" rel="prev" title="mysql äº‹åŠ¡ Transaction">
      <i class="fa fa-chevron-left"></i> mysql äº‹åŠ¡ Transaction
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/03/04/%E5%A4%9A%E6%A8%A1%E6%80%81/detection-rcnn/" rel="next" title="detection-rcnn">
      detection-rcnn <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#clip"><span class="nav-number">1.</span> <span class="nav-text"> Clip</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#webimagetext-wit-%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="nav-number">1.1.</span> <span class="nav-text"> WebImageText (WIT) æ•°æ®é›†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%84%E8%AE%AD%E7%BB%83%E6%96%B9%E6%B3%95"><span class="nav-number">1.2.</span> <span class="nav-text"> é¢„è®­ç»ƒæ–¹æ³•</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#vilt"><span class="nav-number">2.</span> <span class="nav-text"> ViLT</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.1.</span> <span class="nav-text"> æ¨¡å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%84%E8%AE%AD%E7%BB%83%E7%9B%AE%E6%A0%87"><span class="nav-number">2.2.</span> <span class="nav-text"> é¢„è®­ç»ƒç›®æ ‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C-%E5%BE%AE%E8%B0%83"><span class="nav-number">2.3.</span> <span class="nav-text"> å®éªŒ &amp; å¾®è°ƒ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#albef"><span class="nav-number">3.</span> <span class="nav-text"> ALBEF</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B-2"><span class="nav-number">3.1.</span> <span class="nav-text"> æ¨¡å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%84%E8%AE%AD%E7%BB%83%E7%9B%AE%E6%A0%87-2"><span class="nav-number">3.2.</span> <span class="nav-text"> é¢„è®­ç»ƒç›®æ ‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#momentum-distillation"><span class="nav-number">3.3.</span> <span class="nav-text"> Momentum Distillation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C"><span class="nav-number">3.4.</span> <span class="nav-text"> å®éªŒ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#meter"><span class="nav-number">4.</span> <span class="nav-text"> Meter</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#coca"><span class="nav-number">5.</span> <span class="nav-text"> CoCa</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#model"><span class="nav-number">5.1.</span> <span class="nav-text"> Model</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#contrastive-captioners-pretraining"><span class="nav-number">5.2.</span> <span class="nav-text"> Contrastive Captioners Pretraining</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#contrastive-captioners-for-downstream-tasks"><span class="nav-number">5.3.</span> <span class="nav-text"> Contrastive Captioners for Downstream Tasks</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description">A slow learner.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">366</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/YiandLi" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;YiandLi" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/yiliiiii" title="Zhihu â†’ https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yiliiiii" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>Zhihu</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">629k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">69:53</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
